{% extends 'base.html' %}

{% load custom_filters %}


{% block content %}
<script>
  // Function to refresh the page every 2 seconds
  function refreshPage() {
    setTimeout(function() {
      window.location.reload();
    }, 2000); // 2000 milliseconds = 2 seconds
  }
  
  // Call the function when the page loads
  window.onload = function() {
    refreshPage();
  };
</script>
<div style="display: flex; align-items: center;">
<input class="form-control mr-sm-2" type="search" placeholder="..." aria-label="Search" id="search_query" name="search_query"  >
<button class="btn btn-outline-success my-2 my-sm-0" type="button" onclick="submitForm()" >Ask</button>
</div>
<HR>
<div  id="askResponse" id="askResponse" >

</div>
<HR>
  <div  id="home" id="home" >

  </div>

<!-- Displaying JSON data -->
<section class="py-5">
  <div class="container-fluid">
      <div class="row">
          {% for item in json_data %}
          <div class="col-md-6">
              <div class="card">
                  <div class="card-body">
                      <p>
                      <a href="https://www.pump.fun/{{ item.mint }}" class="btn btn-primary">Visit Website</a>   
                      </p>
                      <h5 class="card-title">{{ item.name }}</h5>
                      <h3 class="card-title">{{ item.symbol }}</h3>
                      <p class="card-text">{{ item.description }}</p>
                      <img src="https://pump.mypinata.cloud/ipfs/{{ item.image_uri|get_last_segment }}" style="max-width: 50%; height: auto;" />

                  </div>
              </div>
          </div>
          {% endfor %}
      </div>
  </div>
</section>  
{% endblock %}
